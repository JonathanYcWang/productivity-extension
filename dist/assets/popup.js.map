{"version":3,"file":"popup.js","sources":["../../src/popup/App.tsx"],"sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport \"../styles/common.css\";\nimport { Settings } from \"../types\";\nimport { storage, runtime } from \"../lib/browser-api\";\n\nconst STORAGE_KEY = \"settings\";\n\nfunction Popup() {\n  const [settings, setSettings] = React.useState<Settings | null>(null);\n\n  React.useEffect(() => {\n    storage.sync.get(STORAGE_KEY).then(res => {\n      setSettings(res[STORAGE_KEY]);\n    });\n  }, []);\n\n  const toggle = async () => {\n    if (!settings) return;\n    const next = { ...settings, enabled: !settings.enabled };\n    await storage.sync.set({ [STORAGE_KEY]: next });\n    setSettings(next);\n  };\n\n  if (!settings) return <div className=\"p\">Loadingâ€¦</div>;\n\n  return (\n    <div className=\"p\">\n      <h1>Productivity Blocker</h1>\n      <p>Status: <b>{settings.enabled ? \"On\" : \"Off\"}</b></p>\n      <button onClick={toggle}>\n        {settings.enabled ? \"Pause blocking\" : \"Resume blocking\"}\n      </button>\n      <p style={{ marginTop: 12 }}>\n        Configure sites & times in{\" \"}\n        <a href=\"#\" onClick={() => runtime.openOptionsPage()}>Options</a>.\n      </p>\n    </div>\n  );\n}\n\nReactDOM.createRoot(document.getElementById(\"root\")!).render(<Popup />);\n"],"names":["STORAGE_KEY","Popup","settings","setSettings","React","storage","res","toggle","next","jsxs","jsx","runtime","ReactDOM"],"mappings":"8HAMA,MAAMA,EAAc,WAEpB,SAASC,GAAQ,CACf,KAAM,CAACC,EAAUC,CAAW,EAAIC,EAAM,SAA0B,IAAI,EAEpEA,EAAM,UAAU,IAAM,CACpBC,EAAQ,KAAK,IAAIL,CAAW,EAAE,KAAKM,GAAO,CACxCH,EAAYG,EAAIN,CAAW,CAAC,CAC9B,CAAC,CACH,EAAG,CAAA,CAAE,EAEL,MAAMO,EAAS,SAAY,CACzB,GAAI,CAACL,EAAU,OACf,MAAMM,EAAO,CAAE,GAAGN,EAAU,QAAS,CAACA,EAAS,OAAA,EAC/C,MAAMG,EAAQ,KAAK,IAAI,CAAE,CAACL,CAAW,EAAGQ,EAAM,EAC9CL,EAAYK,CAAI,CAClB,EAEA,OAAKN,EAGHO,EAAAA,KAAC,MAAA,CAAI,UAAU,IACb,SAAA,CAAAC,EAAAA,IAAC,MAAG,SAAA,sBAAA,CAAoB,SACvB,IAAA,CAAE,SAAA,CAAA,WAAQA,EAAAA,IAAC,IAAA,CAAG,SAAAR,EAAS,QAAU,KAAO,KAAA,CAAM,CAAA,EAAI,QAClD,SAAA,CAAO,QAASK,EACd,SAAAL,EAAS,QAAU,iBAAmB,kBACzC,SACC,IAAA,CAAE,MAAO,CAAE,UAAW,IAAM,SAAA,CAAA,6BACA,IAC3BQ,EAAAA,IAAC,KAAE,KAAK,IAAI,QAAS,IAAMC,EAAQ,gBAAA,EAAmB,SAAA,SAAA,CAAO,EAAI,GAAA,CAAA,CACnE,CAAA,EACF,QAbqB,MAAA,CAAI,UAAU,IAAI,SAAA,WAAQ,CAenD,CAEAC,EAAS,WAAW,SAAS,eAAe,MAAM,CAAE,EAAE,OAAOF,EAAAA,IAACT,EAAA,CAAA,CAAM,CAAE"}