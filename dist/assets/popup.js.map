{"version":3,"file":"popup.js","sources":["../../src/popup/App.tsx"],"sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport \"../styles/common.css\";\nimport { Settings } from \"../types\";\n\nconst STORAGE_KEY = \"settings\";\n\nfunction Popup() {\n  const [settings, setSettings] = React.useState<Settings | null>(null);\n\n  React.useEffect(() => {\n    chrome.storage.sync.get(STORAGE_KEY).then(res => {\n      setSettings(res[STORAGE_KEY]);\n    });\n  }, []);\n\n  const toggle = async () => {\n    if (!settings) return;\n    const next = { ...settings, enabled: !settings.enabled };\n    await chrome.storage.sync.set({ [STORAGE_KEY]: next });\n    setSettings(next);\n  };\n\n  if (!settings) return <div className=\"p\">Loadingâ€¦</div>;\n\n  return (\n    <div className=\"p\">\n      <h1>Productivity Blocker</h1>\n      <p>Status: <b>{settings.enabled ? \"On\" : \"Off\"}</b></p>\n      <button onClick={toggle}>\n        {settings.enabled ? \"Pause blocking\" : \"Resume blocking\"}\n      </button>\n      <p style={{ marginTop: 12 }}>\n        Configure sites & times in{\" \"}\n        <a href=\"#\" onClick={() => chrome.runtime.openOptionsPage()}>Options</a>.\n      </p>\n    </div>\n  );\n}\n\nReactDOM.createRoot(document.getElementById(\"root\")!).render(<Popup />);\n"],"names":["STORAGE_KEY","Popup","settings","setSettings","React","res","toggle","next","jsxs","jsx","ReactDOM"],"mappings":"kFAKA,MAAMA,EAAc,WAEpB,SAASC,GAAQ,CACf,KAAM,CAACC,EAAUC,CAAW,EAAIC,EAAM,SAA0B,IAAI,EAEpEA,EAAM,UAAU,IAAM,CACpB,OAAO,QAAQ,KAAK,IAAIJ,CAAW,EAAE,KAAKK,GAAO,CAC/CF,EAAYE,EAAIL,CAAW,CAAC,CAC9B,CAAC,CACH,EAAG,CAAA,CAAE,EAEL,MAAMM,EAAS,SAAY,CACzB,GAAI,CAACJ,EAAU,OACf,MAAMK,EAAO,CAAE,GAAGL,EAAU,QAAS,CAACA,EAAS,OAAA,EAC/C,MAAM,OAAO,QAAQ,KAAK,IAAI,CAAE,CAACF,CAAW,EAAGO,EAAM,EACrDJ,EAAYI,CAAI,CAClB,EAEA,OAAKL,EAGHM,EAAAA,KAAC,MAAA,CAAI,UAAU,IACb,SAAA,CAAAC,EAAAA,IAAC,MAAG,SAAA,sBAAA,CAAoB,SACvB,IAAA,CAAE,SAAA,CAAA,WAAQA,EAAAA,IAAC,IAAA,CAAG,SAAAP,EAAS,QAAU,KAAO,KAAA,CAAM,CAAA,EAAI,QAClD,SAAA,CAAO,QAASI,EACd,SAAAJ,EAAS,QAAU,iBAAmB,kBACzC,SACC,IAAA,CAAE,MAAO,CAAE,UAAW,IAAM,SAAA,CAAA,6BACA,IAC3BO,EAAAA,IAAC,IAAA,CAAE,KAAK,IAAI,QAAS,IAAM,OAAO,QAAQ,gBAAA,EAAmB,SAAA,SAAA,CAAO,EAAI,GAAA,CAAA,CAC1E,CAAA,EACF,QAbqB,MAAA,CAAI,UAAU,IAAI,SAAA,WAAQ,CAenD,CAEAC,EAAS,WAAW,SAAS,eAAe,MAAM,CAAE,EAAE,OAAOD,EAAAA,IAACR,EAAA,CAAA,CAAM,CAAE"}