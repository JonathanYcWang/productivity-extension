{"version":3,"file":"contentCardPopup.js","sources":["../../src/content/cardPopup.ts"],"sourcesContent":["// Content script to inject card popup on pages\n\nconst POPUP_ID = 'productivity-blocker-card-popup';\n\nexport function showCardPopup() {\n  // Remove existing popup if present\n  const existing = document.getElementById(POPUP_ID);\n  if (existing) {\n    existing.remove();\n  }\n\n  // Create popup container\n  const popup = document.createElement('div');\n  popup.id = POPUP_ID;\n  popup.style.cssText = `\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: rgba(0, 0, 0, 0.7);\n    z-index: 999999;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;\n  `;\n\n  // Create iframe for the popup content\n  const iframe = document.createElement('iframe');\n  iframe.style.cssText = `\n    width: 90%;\n    max-width: 800px;\n    height: 90%;\n    max-height: 600px;\n    border: none;\n    border-radius: 12px;\n    background: white;\n    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n  `;\n  \n  // Get the extension URL for the popup HTML\n  const popupUrl = chrome.runtime.getURL('cardPopup/index.html');\n  iframe.src = popupUrl;\n  \n  popup.appendChild(iframe);\n\n  // Close on background click\n  popup.addEventListener('click', (e) => {\n    if (e.target === popup) {\n      popup.remove();\n    }\n  });\n\n  // Add to page\n  document.body.appendChild(popup);\n\n  // Listen for close messages from iframe\n  window.addEventListener('message', (event) => {\n    if (event.data === 'closeCardPopup' && event.origin === chrome.runtime.getURL('').slice(0, -1)) {\n      popup.remove();\n    }\n  });\n}\n\n// Listen for messages from background script\nchrome.runtime.onMessage.addListener((message, sender, sendResponse) => {\n  if (message.action === 'showCardPopup') {\n    showCardPopup();\n    sendResponse({ success: true });\n  }\n  return true;\n});\n\n"],"names":["POPUP_ID","showCardPopup","existing","popup","iframe","popupUrl","e","event","message","sender","sendResponse"],"mappings":"AAEA,MAAMA,EAAW,kCAEV,SAASC,GAAgB,CAE9B,MAAMC,EAAW,SAAS,eAAeF,CAAQ,EAC7CE,GACFA,EAAS,OAAA,EAIX,MAAMC,EAAQ,SAAS,cAAc,KAAK,EAC1CA,EAAM,GAAKH,EACXG,EAAM,MAAM,QAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAetB,MAAMC,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,MAAM,QAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAYvB,MAAMC,EAAW,OAAO,QAAQ,OAAO,sBAAsB,EAC7DD,EAAO,IAAMC,EAEbF,EAAM,YAAYC,CAAM,EAGxBD,EAAM,iBAAiB,QAAUG,GAAM,CACjCA,EAAE,SAAWH,GACfA,EAAM,OAAA,CAEV,CAAC,EAGD,SAAS,KAAK,YAAYA,CAAK,EAG/B,OAAO,iBAAiB,UAAYI,GAAU,CACxCA,EAAM,OAAS,kBAAoBA,EAAM,SAAW,OAAO,QAAQ,OAAO,EAAE,EAAE,MAAM,EAAG,EAAE,GAC3FJ,EAAM,OAAA,CAEV,CAAC,CACH,CAGA,OAAO,QAAQ,UAAU,YAAY,CAACK,EAASC,EAAQC,KACjDF,EAAQ,SAAW,kBACrBP,EAAA,EACAS,EAAa,CAAE,QAAS,GAAM,GAEzB,GACR"}